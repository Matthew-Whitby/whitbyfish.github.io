function openTab(evt,tabName){let m,tabcontent,tablinks;for(tabcontent=document.getElementsByClassName("tabcontent"),m=0;m<tabcontent.length;m++)tabcontent[m].style.display="none";for(tablinks=document.getElementsByClassName("tabbtn"),m=0;m<tablinks.length;m++)tablinks[m].className=tablinks[m].className.replace(" active","");"hiragana"==tabName&&HideRomaji(tabName),document.getElementById(tabName).style.display="block",evt.currentTarget.className+=" active"}function HideRomaji(tabName){let hiragana,childNodes=document.getElementById(tabName+"lyrics").children;for(c=0;c<childNodes.length;c++){let node=FindNodeByClass(childNodes[c].children,"romaji",!0);if(1==node.parentElement.children.length){node.style.opacity="0";let button=document.createElement("BUTTON");button.innerHTML="Toggle Visibility",button.className="visible",button.addEventListener("click",ToggleVisibility,this),node.parentElement.appendChild(button)}}}function FindNodeByClass(childNodes,classId,getChild){for(z=0;z<childNodes.length;z++){if(ContainsClass(childNodes[z],classId))return getChild?childNodes[z].children[0]:childNodes[z];if(childNodes[z].children.length>1)return FindNodeByClass(childNodes[z].children,classId,getChild)}}function ContainsClass(node,search){for(i=0;i<node.classList.length;i++)if(node.classList[i]==search)return!0;return!1}function ToggleVisibility(btn){let node=btn.currentTarget.parentElement.children[0];node.style.opacity="0"==node.style.opacity?"1":"0"}function ToggleAllVisibility(){let hiragana,childNodes=document.getElementById("hiraganalyrics").children,opacityVal;for(m=0;m<childNodes.length;m++){let romajiNode=FindNodeByClass(childNodes[m].children,"romaji",!0);m?romajiNode.style.opacity=opacityVal:(romajiNode.style.opacity="0"==romajiNode.style.opacity?"1":"0",opacityVal=romajiNode.style.opacity)}}function SetClasses(){let lines=document.getElementsByClassName("line");for(m=0;m<lines.length;m++){for(c=0;c<lines[m].children.length-1;c++)lines[m].children[c].classList.add("underline");for(c=0;c<lines[m].children.length;c++)lines[m].children[c].classList.add("section")}}function ShowKanji(element,overwriteSticky,show){if(!IsStickied()||overwriteSticky){let classname;show?SetKanji(element):UnsetKanji(element);let displayType=show?"block":"none";for(m=0;m<element.classList.length;m++)element.classList[m].includes("-")&&"show"==element.classList[m].split("-")[1]&&(classname=element.classList[m].split("-")[0]);document.getElementById(classname+"-display").style.display=displayType,document.getElementById("hide-button").style.display=displayType}}function StickKanji(element){if(IsStickied()){console.log("IS STICKIED");let stuck=document.getElementsByClassName("stickied");console.log(stuck),ShowKanji(stuck[0],!0,!1),stuck[0].classList.remove("stickied")}console.log(element),ShowKanji(element,!0,!0),element.classList.add("stickied"),console.log(element)}function IsStickied(){let stucks=document.getElementsByClassName("stickied");return null!=stucks&&stucks.length>0}function CloseKanji(){let stucks=document.getElementsByClassName("stickied");null!=stucks&&stucks.length>0&&(ShowKanji(stucks[0],!0,!1),stucks[0].classList.remove("stickied"))}function SetKanji(element){let kanjiName;for(bold=element.getAttribute("setbold"),m=0;m<element.classList.length;m++)"show"==element.classList[m].split("-")[1]&&(kanjiName=element.classList[m].split("-")[0]);let displaySections=document.getElementsByClassName("kanji-tab");for(m=0;m<displaySections.length;m++){let id;if(displaySections[m].id.split("-")[0]==kanjiName){let bolds=displaySections[m].getElementsByClassName("bold");for(c=0;c<bolds.length;c++)if(bolds[c].getAttribute("bold")==bold){let text=bolds[c].innerHTML;bolds[c].innerHTML="<b>"+text+"</b>"}}}}function UnsetKanji(element){let kanjiName;for(m=0;m<element.classList.length;m++)element.classList[m].includes("-")&&"show"==element.classList[m].split("-")[1]&&(kanjiName=element.classList[m].split("-")[0]);let displaySections=document.getElementsByClassName("kanji-tab");for(m=0;m<displaySections.length;m++){let id;if(displaySections[m].id.split("-")[0]==kanjiName){let bolds=displaySections[m].getElementsByClassName("bold");for(c=0;c<bolds.length;c++)if(bolds[c].innerHTML.includes("<b>")){let text=bolds[c].innerHTML;text=text.substring(3,text.length-4),bolds[c].innerHTML=text}}}}function DisplayText(id,value){let linelist=document.getElementById(id).children;for(m=0;m<linelist.length;m++)for(c=0;c<linelist[m].children.length;c++)if("japanese-display"==linelist[m].children[c].classList[0]){let displayTypes=linelist[m].children[c].children;for(z=0;z<displayTypes.length;z++)displayTypes[z].classList[0]==value?displayTypes[z].style.display="block":displayTypes[z].style.display="none"}}function DisplayTextTable(id,value){let linelist=document.getElementById(id).children;for(m=0;m<linelist.length;m++)for(c=0;c<linelist[m].children[0].children[0].children.length;c++)if("japanese-display"==linelist[m].children[0].children[0].children[c].classList[0]){let displayTypes=linelist[m].children[0].children[0].children[c].children;for(z=0;z<displayTypes.length;z++)for(x=0;x<displayTypes[z].children.length;x++)displayTypes[z].children[x].classList[0]==value?displayTypes[z].children[x].style.display="block":displayTypes[z].children[x].style.display="none"}}function SetTabBtnWidth(){let btns=document.getElementsByClassName("tabbtn").length;var style=document.createElement("style");style.innerHTML=".tabbtn{width:${100/btns}%;}",document.head.appendChild(style)}function ScrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}